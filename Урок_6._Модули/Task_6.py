"""
Задание №6
Добавьте в модуль с загадками функцию, которая
принимает на вход строку (текст загадки) и число (номер
попытки, с которой она угадана).
Функция формирует словарь с информацией о результатах
отгадывания.
Для хранения используйте защищённый словарь уровня
модуля.
Отдельно напишите функцию, которая выводит результаты
угадывания из защищённого словаря в удобном для чтения
виде.
Для формирования результатов используйте генераторное
выражение.
"""

# riddle_game.py
import random

# Защищенный словарь уровня модуля для хранения результатов отгадывания
_results = {}


def guess_riddle(riddle, answers, attempts):
    """
    Функция запрашивает ответ на загадку у пользователя и возвращает номер попытки,
    с которой была отгадана загадка, или 0, если попытки исчерпаны.
    """
    print(riddle)
    for attempt in range(1, attempts + 1):
        user_answer = input(f"Попытка {attempt}. Ваш ответ: ")
        if user_answer.lower() in [answer.lower() for answer in answers]:
            print("Правильно! Загадка отгадана.")
            return attempt
    print("Все попытки исчерпаны.")
    return 0


def record_riddle_result(riddle, attempt):
    """
    Функция записывает результат отгадывания загадки в защищенный словарь.
    """
    _results[riddle] = attempt


def display_riddle_results():
    """
    Функция выводит результаты отгадывания загадок из защищенного словаря в удобном для чтения виде.
    """
    print("\nРезультаты угадывания загадок:")
    for riddle, attempt in _results.items():
        if attempt > 0:
            print(f"'{riddle}': угадана с {attempt}-й попытки")
        else:
            print(f"'{riddle}': не угадана")


def play_riddle_game():
    """
    Функция выполняет игру в загадки, используя словарь загадок и списков с ответами.
    """
    riddles_and_answers = {
        "Что всегда увеличивается и никогда не уменьшается?": ["возраст"],
        "Что может в одно и то же время стоять и ходить?": ["часы"],
        # Добавьте здесь больше загадок и ответов по желанию
    }

    for riddle, answers in riddles_and_answers.items():
        attempt = guess_riddle(
            riddle, answers, 3
        )  # Предполагаем, что у пользователя 3 попытки на каждую загадку
        record_riddle_result(riddle, attempt)

    display_riddle_results()


# Если модуль запущен как скрипт, начать игру в загадки
if __name__ == "__main__":
    play_riddle_game()
